(()=>{"use strict";var e={4642:(e,t,r)=>{r(3792),r(3362),r(9085),r(9391);var n=r(3751),a=r(641),s=r(33),o={class:"min-h-screen bg-gray-100"},l={class:"bg-white shadow-lg"},i={class:"max-w-7xl mx-auto px-4"},u={class:"flex justify-between h-16"},d={class:"flex"},c={class:"hidden sm:ml-6 sm:flex sm:space-x-8"},p={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"};const v={__name:"App",setup:function(e){return function(e,t){var r=(0,a.g2)("router-link"),n=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("nav",l,[(0,a.Lk)("div",i,[(0,a.Lk)("div",u,[(0,a.Lk)("div",d,[t[3]||(t[3]=(0,a.Lk)("div",{class:"flex-shrink-0 flex items-center"},[(0,a.Lk)("h1",{class:"text-xl font-bold text-gray-800"}," Minecraft Server Manager ")],-1)),(0,a.Lk)("div",c,[(0,a.bF)(r,{to:"/nodes",class:(0,s.C4)(["inline-flex items-center px-1 pt-1 border-b-2",["/nodes"===e.$route.path?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"]])},{default:(0,a.k6)((function(){return t[0]||(t[0]=[(0,a.eW)(" Nodes ")])})),_:1},8,["class"]),(0,a.bF)(r,{to:"/servers",class:(0,s.C4)(["inline-flex items-center px-1 pt-1 border-b-2",["/servers"===e.$route.path?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"]])},{default:(0,a.k6)((function(){return t[1]||(t[1]=[(0,a.eW)(" Servers ")])})),_:1},8,["class"]),(0,a.bF)(r,{to:"/minecraft/cache",class:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"},{default:(0,a.k6)((function(){return t[2]||(t[2]=[(0,a.eW)(" Jar Cache ")])})),_:1})])])])])]),(0,a.Lk)("main",p,[(0,a.bF)(n)])])}}},m=v,f=m;r(6099),r(7764),r(2953);var g=r(5220),b=r(4048),x=r(9201),k=r(388),y=(r(2008),r(2062),r(4114),r(2010),r(8111),r(2489),r(1701),r(1392),r(953)),h=r(4335),w={class:"bg-white shadow rounded-lg p-4"},L={class:"space-y-4"},C={class:"flex items-center justify-between"},A={key:0,class:"w-full"},S={class:"flex justify-between mb-1"},E={class:"text-sm font-medium text-gray-700"},_={class:"text-sm font-medium text-gray-700"},V={class:"w-full bg-gray-200 rounded-full h-2.5"},j={class:"text-sm text-gray-600"},X={key:1,class:"mt-2 text-sm text-red-600"};function R(e,t,r,n,o,l){var i,u,d=(0,a.g2)("StatusBadge");return(0,a.uX)(),(0,a.CE)("div",w,[(0,a.Lk)("div",L,[(0,a.Lk)("div",C,[t[0]||(t[0]=(0,a.Lk)("h3",{class:"text-lg font-medium text-gray-900"}," Server Status ",-1)),(0,a.bF)(d,{status:r.server.status},null,8,["status"])]),l.isProvisioning?((0,a.uX)(),(0,a.CE)("div",A,[(0,a.Lk)("div",S,[(0,a.Lk)("span",E,(0,s.v_)(l.formatStatus(r.server.status)),1),(0,a.Lk)("span",_,(0,s.v_)(null!==(i=r.server.progress)&&void 0!==i?i:0)+"% ",1)]),(0,a.Lk)("div",V,[(0,a.Lk)("div",{class:"bg-blue-600 h-2.5 rounded-full transition-all duration-500",style:(0,s.Tr)({width:"".concat(null!==(u=r.server.progress)&&void 0!==u?u:0,"%")})},null,4)])])):(0,a.Q3)("",!0),(0,a.Lk)("div",j,(0,s.v_)("jar_swap_in_progress"===r.server.status?"Swapping server jar file...":r.server.statusMessage||"Working on provisioning the server..."),1),"failed"===r.server.status?((0,a.uX)(),(0,a.CE)("div",X,(0,s.v_)(r.server.statusMessage),1)):(0,a.Q3)("",!0)])])}r(4782);function P(e,t,r,n,o,l){return(0,a.uX)(),(0,a.CE)("span",{class:(0,s.C4)(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",l.statusClass])},(0,s.v_)(l.formatStatus),3)}const M={name:"StatusBadge",props:{status:{type:String,required:!0}},computed:{statusClass:function(){var e={provisioning:"bg-blue-100 text-blue-800",provisioning_setup:"bg-blue-100 text-blue-800",provisioning_download:"bg-blue-100 text-blue-800",provisioning_config:"bg-blue-100 text-blue-800",provisioned:"bg-green-100 text-green-800",running:"bg-green-100 text-green-800",stopped:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",jar_swap_in_progress:"bg-purple-100 text-purple-800"};return e[this.status]||"bg-gray-100 text-gray-800"},formatStatus:function(){return this.status.startsWith("provisioning_")?"Provisioning":"jar_swap_in_progress"===this.status?"Swapping Jar":this.status.charAt(0).toUpperCase()+this.status.slice(1)}}};var T=r(6262);const F=(0,T.A)(M,[["render",P]]),K=F,I={name:"ServerProvisioningStatus",components:{StatusBadge:K},props:{server:{type:Object,required:!0}},computed:{isProvisioning:function(){var e;return(null===(e=this.server.status)||void 0===e?void 0:e.startsWith("provisioning"))||!1}},methods:{formatStatus:function(e){if(!e)return"Unknown";if(e.startsWith("provisioning_")){var t=e.split("_")[1];return t.charAt(0).toUpperCase()+t.slice(1)}return e.charAt(0).toUpperCase()+e.slice(1)}}},U=(0,T.A)(I,[["render",R]]),B=U;r(8706),r(113),r(116),r(9432),r(6031),r(3296),r(7208),r(8408),r(4603),r(7566),r(8721);var D={class:"minecraft-server-selector"},O={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"},N={class:"space-y-4"},W={class:"mb-4"},J=["value"],Q={class:"mb-4"},q={class:"relative"},H=["value"],z={key:0,class:"text-gray-500"},$={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3"},G={key:0,class:"mt-4"},Y={class:"space-y-2"},Z={class:"flex justify-between items-center mb-1"},ee={class:"text-sm font-medium text-gray-700"},te={class:"text-sm text-gray-500"},re={class:"w-full bg-gray-200 rounded-full h-2"};const ne={__name:"MinecraftServerSelector",props:{modelValue:{type:Object,default:function(){return{type:"",version:""}}}},emits:["update:modelValue","download-complete"],setup:function(e,t){var r=t.emit,o=e,l=r,i=(0,y.KR)([]),u=(0,y.KR)([]),d=(0,y.KR)(o.modelValue.type),c=(0,y.KR)(o.modelValue.version),p=(0,y.KR)(!1),v=(0,y.KR)(null),m=(0,y.KR)({}),f=function(){var e=(0,k.A)((0,b.A)().mark((function e(){var t;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,v.value=null,e.next=4,h.A.get("/api/minecraft/types");case 4:t=e.sent,i.value=t.data,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),v.value="Failed to fetch server types",console.error("Error fetching server types:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,k.A)((0,b.A)().mark((function e(t){var r;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return u.value=[],e.abrupt("return");case 3:return e.prev=3,p.value=!0,v.value=null,e.next=8,h.A.get("/api/minecraft/versions/".concat(t));case 8:r=e.sent,u.value=r.data,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](3),v.value="Failed to fetch versions",console.error("Error fetching versions:",e.t0);case 16:return e.prev=16,p.value=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,k.A)((0,b.A)().mark((function e(){return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l("update:modelValue",{type:d.value,version:""}),c.value="",e.next=4,g(d.value);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,k.A)((0,b.A)().mark((function e(){return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(d.value&&c.value){e.next=3;break}return l("update:modelValue",{type:d.value,version:""}),e.abrupt("return");case 3:return l("update:modelValue",{type:d.value,version:c.value}),e.next=6,L(d.value,c.value);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,k.A)((0,b.A)().mark((function e(t,r){var n,a,s,o,i,u;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!m.value[r]){e.next=2;break}return e.abrupt("return");case 2:return m.value[r]={status:"Checking cache...",percentage:0},e.prev=3,e.next=6,h.A.get("/api/minecraft/cache");case 6:if(n=e.sent,a=n.data.find((function(e){return e.type===t&&e.version===r})),!a){e.next=14;break}return m.value[r].status="Using cached file",m.value[r].percentage=100,setTimeout((function(){delete m.value[r]}),3e3),l("download-complete"),e.abrupt("return");case 14:return m.value[r].status="Starting download...",e.next=17,h.A.post("/api/minecraft/download",{type:t,version:r},{responseType:"blob",onDownloadProgress:function(e){var t=Math.round(100*e.loaded/e.total);m.value[r].percentage=t,m.value[r].status="Downloading: ".concat(t,"%")}});case 17:s=e.sent,o=new Blob([s.data],{type:"application/java-archive"}),i=window.URL.createObjectURL(o),u=document.createElement("a"),u.href=i,u.download="".concat(t,"-").concat(r,".jar"),document.body.appendChild(u),u.click(),window.URL.revokeObjectURL(i),document.body.removeChild(u),m.value[r].status="Download complete",setTimeout((function(){delete m.value[r]}),3e3),l("download-complete"),e.next=38;break;case 32:e.prev=32,e.t0=e["catch"](3),m.value[r].status="Download failed",v.value="Failed to download server",console.error("Error downloading server:",e.t0),setTimeout((function(){delete m.value[r]}),3e3);case 38:case"end":return e.stop()}}),e,null,[[3,32]])})));return function(t,r){return e.apply(this,arguments)}}(),C=function(e){var t=u.value.find((function(t){return t.id===e}));return t?t.name:e};return(0,a.wB)((function(){return o.modelValue}),(function(e){d.value=e.type,c.value=e.version})),(0,a.sV)((0,k.A)((0,b.A)().mark((function e(){return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:if(!d.value){e.next=5;break}return e.next=5,g(d.value);case 5:case"end":return e.stop()}}),e)})))),function(e,t){return(0,a.uX)(),(0,a.CE)("div",D,[t[8]||(t[8]=(0,a.Lk)("h2",{class:"text-xl font-semibold mb-4"},"Select Minecraft Server",-1)),v.value?((0,a.uX)(),(0,a.CE)("div",O,(0,s.v_)(v.value),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",N,[(0,a.Lk)("div",W,[t[3]||(t[3]=(0,a.Lk)("label",{for:"serverType",class:"block text-sm font-medium text-gray-700"},"Server Type",-1)),(0,a.bo)((0,a.Lk)("select",{id:"serverType","onUpdate:modelValue":t[0]||(t[0]=function(e){return d.value=e}),onChange:x,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},[t[2]||(t[2]=(0,a.Lk)("option",{value:""},"Select server type",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.value,(function(e){return(0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,J)})),128))],544),[[n.u1,d.value]])]),(0,a.Lk)("div",Q,[t[6]||(t[6]=(0,a.Lk)("label",{for:"version",class:"block text-sm font-medium text-gray-700"},"Version",-1)),(0,a.Lk)("div",q,[(0,a.bo)((0,a.Lk)("select",{id:"version","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.value=e}),onChange:w,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},[t[4]||(t[4]=(0,a.Lk)("option",{value:""},"Select version",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.value,(function(e){return(0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},[(0,a.eW)((0,s.v_)(e.name)+" ",1),m.value[e.id]?((0,a.uX)(),(0,a.CE)("span",z," (Downloading...) ")):(0,a.Q3)("",!0)],8,H)})),128))],544),[[n.u1,c.value]]),p.value?((0,a.uX)(),(0,a.CE)("div",$,t[5]||(t[5]=[(0,a.Lk)("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-indigo-500"},null,-1)]))):(0,a.Q3)("",!0)])]),Object.keys(m.value).length>0?((0,a.uX)(),(0,a.CE)("div",G,[t[7]||(t[7]=(0,a.Lk)("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Downloads in Progress",-1)),(0,a.Lk)("div",Y,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(m.value,(function(e,t){return(0,a.uX)(),(0,a.CE)("div",{key:t,class:"bg-gray-50 p-3 rounded-md"},[(0,a.Lk)("div",Z,[(0,a.Lk)("span",ee,(0,s.v_)(C(t)),1),(0,a.Lk)("span",te,(0,s.v_)(e.status),1)]),(0,a.Lk)("div",re,[(0,a.Lk)("div",{class:"bg-indigo-600 h-2 rounded-full",style:(0,s.Tr)({width:e.percentage+"%"})},null,4)])])})),128))])])):(0,a.Q3)("",!0)])])}}},ae=(0,T.A)(ne,[["__scopeId","data-v-3acf3ad6"]]),se=ae;var oe={class:"sm:flex sm:items-center"},le={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},ie={class:"mt-8 flex flex-col"},ue={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},de={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},ce={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},pe={class:"min-w-full divide-y divide-gray-300"},ve={class:"divide-y divide-gray-200 bg-white"},me=["onClick"],fe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},ge={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},be={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},xe={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},ke={key:0},ye={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},he={class:"flex justify-end space-x-2"},we=["onClick"],Le=["onClick"],Ce=["onClick"],Ae=["onClick"],Se={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center"},Ee={class:"bg-white rounded-lg p-6 max-w-md w-full"},_e={class:"mb-4"},Ve={class:"mb-4"},je=["value"],Xe={class:"mb-4"},Re={class:"flex justify-end space-x-3"},Pe={key:1,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center"},Me={class:"bg-white rounded-lg p-6 max-w-md w-full"},Te={class:"space-y-4"},Fe={class:"mt-1 text-sm text-gray-900"},Ke={class:"mt-1 space-y-1"},Ie={class:"flex justify-end"},Ue={key:2,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center"},Be={class:"bg-white rounded-lg p-6 max-w-md w-full"},De={class:"flex justify-end space-x-3"};const Oe={__name:"ServersView",setup:function(e){var t=(0,g.rd)(),r=(0,y.KR)([]),o=(0,y.KR)([]),l=(0,y.KR)(!1),i=(0,y.KR)(null),u=(0,y.KR)(null),d=(0,y.KR)({name:"",nodeId:"",minecraftConfig:{type:"",version:""}}),c=(0,y.KR)(!1),p=(0,y.KR)(null),v=function(){var e=(0,k.A)((0,b.A)().mark((function e(){var t;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.A.get("/api/servers");case 3:t=e.sent,r.value=t.data.servers.map((function(e){return(0,x.A)((0,x.A)({},e),{},{instanceId:e.instanceId||e._id})})),console.log("Fetched servers:",r.value),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error("Error fetching servers:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,k.A)((0,b.A)().mark((function e(){var t;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.A.get("/api/nodes");case 3:t=e.sent,o.value=t.data.nodes,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Error fetching nodes:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),f=function(e){d.value.minecraftConfig=e},w=function(){var e=(0,k.A)((0,b.A)().mark((function e(){var t,r;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u.value=null,d.value.minecraftConfig.type&&d.value.minecraftConfig.version){e.next=4;break}return u.value="Please select both server type and version",e.abrupt("return");case 4:return e.prev=4,t={name:d.value.name,nodeId:d.value.nodeId,minecraftVersion:d.value.minecraftConfig.version,serverType:d.value.minecraftConfig.type},e.next=8,h.A.post("/api/servers",t);case 8:l.value=!1,d.value={name:"",nodeId:"",minecraftConfig:{type:"",version:""}},v(),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](4),u.value=(null===(r=e.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.error)||"Failed to create server",console.error("Error creating server:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,k.A)((0,b.A)().mark((function e(t){return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.A.post("/api/servers/".concat(t._id,"/start"));case 3:t.status="running",e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error("Error starting server:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,k.A)((0,b.A)().mark((function e(t){return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.A.post("/api/servers/".concat(t._id,"/stop"));case 3:t.status="stopped",e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error("Error stopping server:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t={running:"text-green-600",stopped:"text-red-600",starting:"text-yellow-600",stopping:"text-yellow-600"};return t[e]||"text-gray-600"},S=function(e){p.value=e,c.value=!0},E=function(){var e=(0,k.A)((0,b.A)().mark((function e(){var t;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,p.value){e.next=4;break}return console.error("No server selected for deletion"),e.abrupt("return");case 4:if(console.log("Deleting server:",{id:p.value._id,instanceId:p.value.instanceId,name:p.value.name}),p.value.instanceId){e.next=9;break}return console.error("Server has no instanceId:",p.value._id),alert("Server has no instanceId. Please try again."),e.abrupt("return");case 9:return e.next=11,h.A["delete"]("/api/servers/".concat(p.value._id));case 11:r.value=r.value.filter((function(e){return e._id!==p.value._id})),c.value=!1,p.value=null,e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](0),console.error("Error deleting server:",e.t0),alert((null===(t=e.t0.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.error)||"Failed to delete server. Please try again.");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),_=function(e){t.push("/servers/".concat(e._id))},V=function(e){t.push("/servers/".concat(e._id,"/config"))},j=function(e){return e.startsWith("provisioning")||"failed"===e};return(0,a.sV)((function(){v(),m()})),function(e,t){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",oe,[t[7]||(t[7]=(0,a.Lk)("div",{class:"sm:flex-auto"},[(0,a.Lk)("h1",{class:"text-2xl font-semibold text-gray-900"}," Servers "),(0,a.Lk)("p",{class:"mt-2 text-sm text-gray-700"}," Manage your Minecraft servers across different nodes. ")],-1)),(0,a.Lk)("div",le,[(0,a.Lk)("button",{class:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto",onClick:t[0]||(t[0]=function(e){return l.value=!0})}," Add Server ")])]),(0,a.Lk)("div",ie,[(0,a.Lk)("div",ue,[(0,a.Lk)("div",de,[(0,a.Lk)("div",ce,[(0,a.Lk)("table",pe,[t[8]||(t[8]=(0,a.Lk)("thead",{class:"bg-gray-50"},[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," Name "),(0,a.Lk)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Node "),(0,a.Lk)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Version "),(0,a.Lk)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Status "),(0,a.Lk)("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[(0,a.Lk)("span",{class:"sr-only"},"Actions")])])],-1)),(0,a.Lk)("tbody",ve,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.value,(function(e){var t;return(0,a.uX)(),(0,a.CE)("tr",{key:e._id,class:"cursor-pointer hover:bg-gray-50",onClick:function(t){return _(e)}},[(0,a.Lk)("td",fe,(0,s.v_)(e.name),1),(0,a.Lk)("td",ge,(0,s.v_)((null===(t=e.nodeId)||void 0===t?void 0:t.name)||"No Node"),1),(0,a.Lk)("td",be,(0,s.v_)(e.minecraftVersion),1),(0,a.Lk)("td",xe,[j(e.status)?((0,a.uX)(),(0,a.CE)("div",ke,[(0,a.bF)(B,{server:e},null,8,["server"])])):((0,a.uX)(),(0,a.CE)("span",{key:1,class:(0,s.C4)(A(e.status))},(0,s.v_)(e.status),3))]),(0,a.Lk)("td",ye,[(0,a.Lk)("div",he,["stopped"===e.status?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"text-green-600 hover:text-green-900",onClick:(0,n.D$)((function(t){return L(e)}),["stop"])}," Start ",8,we)):(0,a.Q3)("",!0),"running"===e.status?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"text-red-600 hover:text-red-900",onClick:(0,n.D$)((function(t){return C(e)}),["stop"])}," Stop ",8,Le)):(0,a.Q3)("",!0),(0,a.Lk)("button",{class:"text-indigo-600 hover:text-indigo-900",onClick:(0,n.D$)((function(t){return V(e)}),["stop"])}," Configure ",8,Ce),(0,a.Lk)("button",{class:"text-red-600 hover:text-red-900",onClick:(0,n.D$)((function(t){return S(e)}),["stop"])}," Delete ",8,Ae)])])],8,me)})),128))])])])])])]),l.value?((0,a.uX)(),(0,a.CE)("div",Se,[(0,a.Lk)("div",Ee,[t[13]||(t[13]=(0,a.Lk)("h2",{class:"text-lg font-medium mb-4"}," Add New Server ",-1)),(0,a.Lk)("form",{onSubmit:(0,n.D$)(w,["prevent"])},[(0,a.Lk)("div",_e,[t[9]||(t[9]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return d.value.name=e}),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[n.Jo,d.value.name]])]),(0,a.Lk)("div",Ve,[t[10]||(t[10]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Node",-1)),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return d.value.nodeId=e}),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.value,(function(e){return(0,a.uX)(),(0,a.CE)("option",{key:e._id,value:e._id},(0,s.v_)(e.name),9,je)})),128))],512),[[n.u1,d.value.nodeId]])]),(0,a.Lk)("div",Xe,[t[11]||(t[11]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Minecraft Configuration",-1)),(0,a.bF)(se,{modelValue:d.value.minecraftConfig,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return d.value.minecraftConfig=e}),f]},null,8,["modelValue"])]),(0,a.Lk)("div",Re,[(0,a.Lk)("button",{type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",onClick:t[4]||(t[4]=function(e){return l.value=!1})}," Cancel "),t[12]||(t[12]=(0,a.Lk)("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700"}," Add Server ",-1))])],32)])])):(0,a.Q3)("",!0),i.value?((0,a.uX)(),(0,a.CE)("div",Pe,[(0,a.Lk)("div",Me,[t[16]||(t[16]=(0,a.Lk)("h2",{class:"text-lg font-medium mb-4"}," Server Details ",-1)),(0,a.Lk)("div",Te,[(0,a.Lk)("div",null,[t[14]||(t[14]=(0,a.Lk)("h3",{class:"text-sm font-medium text-gray-700"}," Status ",-1)),(0,a.Lk)("p",Fe,(0,s.v_)(i.value.status),1)]),(0,a.Lk)("div",null,[t[15]||(t[15]=(0,a.Lk)("h3",{class:"text-sm font-medium text-gray-700"}," Plugins ",-1)),(0,a.Lk)("ul",Ke,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.value.plugins,(function(e,t){return(0,a.uX)(),(0,a.CE)("li",{key:t,class:"text-sm text-gray-900"},(0,s.v_)(e.name)+" (v"+(0,s.v_)(e.version)+") ",1)})),128))])]),(0,a.Lk)("div",Ie,[(0,a.Lk)("button",{class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",onClick:t[5]||(t[5]=function(e){return i.value=null})}," Close ")])])])])):(0,a.Q3)("",!0),c.value?((0,a.uX)(),(0,a.CE)("div",Ue,[(0,a.Lk)("div",Be,[t[17]||(t[17]=(0,a.Lk)("h2",{class:"text-lg font-medium mb-4"}," Delete Server ",-1)),t[18]||(t[18]=(0,a.Lk)("p",{class:"text-sm text-gray-600 mb-4"}," Are you sure you want to delete this server? This action cannot be undone. ",-1)),(0,a.Lk)("div",De,[(0,a.Lk)("button",{class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",onClick:t[6]||(t[6]=function(e){return c.value=!1})}," Cancel "),(0,a.Lk)("button",{class:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700",onClick:E}," Delete ")])])])):(0,a.Q3)("",!0)])}}},Ne=Oe,We=Ne;var Je={class:"simple-config-editor"},Qe={class:"space-y-4"},qe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},He={class:"mt-4"},ze={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$e={class:"mt-1"},Ge={class:"inline-flex items-center"};const Ye={__name:"SimpleConfigEditor",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup:function(e,t){var r=t.emit,o=e,l=r,i=(0,y.KR)(!1),u=(0,y.KR)((0,x.A)({},o.modelValue));(0,a.wB)((function(){return o.modelValue}),(function(e){u.value=(0,x.A)({},e)}),{deep:!0});var d=function(){l("update:modelValue",(0,x.A)({},u.value))};return function(e,t){return(0,a.uX)(),(0,a.CE)("div",Je,[(0,a.Lk)("div",Qe,[(0,a.Lk)("div",qe,[(0,a.Lk)("div",null,[t[10]||(t[10]=(0,a.Lk)("label",{for:"maxPlayers",class:"block text-sm font-medium text-gray-700"},"Max Players",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",id:"maxPlayers","onUpdate:modelValue":t[0]||(t[0]=function(e){return u.value.maxPlayers=e}),min:"1",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:d},null,544),[[n.Jo,u.value.maxPlayers]])]),(0,a.Lk)("div",null,[t[11]||(t[11]=(0,a.Lk)("label",{for:"memory",class:"block text-sm font-medium text-gray-700"},"Memory (GB)",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",id:"memory","onUpdate:modelValue":t[1]||(t[1]=function(e){return u.value.memory=e}),min:"1",step:"0.5",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:d},null,544),[[n.Jo,u.value.memory]])]),(0,a.Lk)("div",null,[t[13]||(t[13]=(0,a.Lk)("label",{for:"difficulty",class:"block text-sm font-medium text-gray-700"},"Difficulty",-1)),(0,a.bo)((0,a.Lk)("select",{id:"difficulty","onUpdate:modelValue":t[2]||(t[2]=function(e){return u.value.difficulty=e}),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:d},t[12]||(t[12]=[(0,a.Lk)("option",{value:"peaceful"},"Peaceful",-1),(0,a.Lk)("option",{value:"easy"},"Easy",-1),(0,a.Lk)("option",{value:"normal"},"Normal",-1),(0,a.Lk)("option",{value:"hard"},"Hard",-1)]),544),[[n.u1,u.value.difficulty]])]),(0,a.Lk)("div",null,[t[15]||(t[15]=(0,a.Lk)("label",{for:"gameMode",class:"block text-sm font-medium text-gray-700"},"Game Mode",-1)),(0,a.bo)((0,a.Lk)("select",{id:"gameMode","onUpdate:modelValue":t[3]||(t[3]=function(e){return u.value.gameMode=e}),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:d},t[14]||(t[14]=[(0,a.Lk)("option",{value:"survival"},"Survival",-1),(0,a.Lk)("option",{value:"creative"},"Creative",-1),(0,a.Lk)("option",{value:"adventure"},"Adventure",-1),(0,a.Lk)("option",{value:"spectator"},"Spectator",-1)]),544),[[n.u1,u.value.gameMode]])])]),(0,a.Lk)("div",He,[(0,a.Lk)("button",{type:"button",onClick:t[4]||(t[4]=function(e){return i.value=!i.value}),class:"text-sm text-indigo-600 hover:text-indigo-800 flex items-center"},[(0,a.Lk)("span",null,(0,s.v_)(i.value?"Hide":"Show")+" Advanced Settings",1),((0,a.uX)(),(0,a.CE)("svg",{class:(0,s.C4)(["w-5 h-5 ml-1",{"transform rotate-180":i.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[16]||(t[16]=[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])]),i.value?((0,a.uX)(),(0,a.CE)("div",ze,[(0,a.Lk)("div",null,[t[17]||(t[17]=(0,a.Lk)("label",{for:"port",class:"block text-sm font-medium text-gray-700"},"Port",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",id:"port","onUpdate:modelValue":t[5]||(t[5]=function(e){return u.value.port=e}),min:"1",max:"65535",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:d},null,544),[[n.Jo,u.value.port]])]),(0,a.Lk)("div",null,[t[18]||(t[18]=(0,a.Lk)("label",{for:"viewDistance",class:"block text-sm font-medium text-gray-700"},"View Distance",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",id:"viewDistance","onUpdate:modelValue":t[6]||(t[6]=function(e){return u.value.viewDistance=e}),min:"3",max:"32",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:d},null,544),[[n.Jo,u.value.viewDistance]])]),(0,a.Lk)("div",null,[t[19]||(t[19]=(0,a.Lk)("label",{for:"seed",class:"block text-sm font-medium text-gray-700"},"World Seed",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"seed","onUpdate:modelValue":t[7]||(t[7]=function(e){return u.value.seed=e}),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Leave empty for random",onChange:d},null,544),[[n.Jo,u.value.seed]])]),(0,a.Lk)("div",null,[t[21]||(t[21]=(0,a.Lk)("label",{for:"worldType",class:"block text-sm font-medium text-gray-700"},"World Type",-1)),(0,a.bo)((0,a.Lk)("select",{id:"worldType","onUpdate:modelValue":t[8]||(t[8]=function(e){return u.value.worldType=e}),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:d},t[20]||(t[20]=[(0,a.Lk)("option",{value:"default"},"Default",-1),(0,a.Lk)("option",{value:"flat"},"Flat",-1),(0,a.Lk)("option",{value:"large_biomes"},"Large Biomes",-1),(0,a.Lk)("option",{value:"amplified"},"Amplified",-1)]),544),[[n.u1,u.value.worldType]])]),(0,a.Lk)("div",null,[t[23]||(t[23]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Generate Structures",-1)),(0,a.Lk)("div",$e,[(0,a.Lk)("label",Ge,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=function(e){return u.value.generateStructures=e}),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onChange:d},null,544),[[n.lH,u.value.generateStructures]]),t[22]||(t[22]=(0,a.Lk)("span",{class:"ml-2 text-sm text-gray-700"},"Enable structure generation",-1))])])])])):(0,a.Q3)("",!0)])])}}},Ze=(0,T.A)(Ye,[["__scopeId","data-v-2bc1e1aa"]]),et=Ze;var tt={class:"server-create"},rt=["value"],nt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},at={class:"space-y-4"},st={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded"},ot={class:"flex justify-end space-x-3"},lt=["disabled"],it={key:0},ut={key:1};const dt={__name:"ServerCreate",emits:["cancel"],setup:function(e,t){var r=t.emit,o=r,l=(0,g.rd)(),i=(0,y.KR)([]),u=(0,y.KR)(!1),d=(0,y.KR)(null),c=(0,y.KR)({_id:crypto.randomUUID(),nodeId:"",name:"",minecraftConfig:{type:"",version:""}}),p=(0,y.KR)({maxPlayers:20,difficulty:"normal",gameMode:"survival",memory:2,port:25565,viewDistance:10,spawnProtection:16,seed:"",worldType:"default",generateStructures:!0}),v=function(){var e=(0,k.A)((0,b.A)().mark((function e(){var t;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.A.get("/api/nodes");case 3:t=e.sent,i.value=t.data.nodes,e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),d.value="Failed to fetch nodes",console.error("Error fetching nodes:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),m=function(e){c.value.minecraftConfig=e},f=function(){var e=(0,k.A)((0,b.A)().mark((function e(){var t,r;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c.value.minecraftConfig.type&&c.value.minecraftConfig.version){e.next=3;break}return d.value="Please select both server type and version",e.abrupt("return");case 3:return e.prev=3,u.value=!0,d.value=null,t=(0,x.A)({_id:c.value._id,nodeId:c.value.nodeId,name:c.value.name,minecraftVersion:c.value.minecraftConfig.version,serverType:c.value.minecraftConfig.type},p.value),e.next=9,h.A.post("/api/servers",t);case 9:l.push("/servers"),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](3),d.value=(null===(r=e.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.error)||"Failed to create server",console.error("Error creating server:",e.t0);case 16:return e.prev=16,u.value=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})));return function(){return e.apply(this,arguments)}}();return(0,a.sV)((function(){v()})),function(e,t){return(0,a.uX)(),(0,a.CE)("div",tt,[t[10]||(t[10]=(0,a.Lk)("h2",{class:"text-2xl font-bold mb-6"},"Add New Server",-1)),(0,a.Lk)("form",{onSubmit:(0,n.D$)(f,["prevent"]),class:"space-y-6"},[(0,a.Lk)("div",null,[t[5]||(t[5]=(0,a.Lk)("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Name",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.value.name=e}),required:"",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"Enter server name"},null,512),[[n.Jo,c.value.name]])]),(0,a.Lk)("div",null,[t[7]||(t[7]=(0,a.Lk)("label",{for:"node",class:"block text-sm font-medium text-gray-700"},"Node",-1)),(0,a.bo)((0,a.Lk)("select",{id:"node","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.value.nodeId=e}),required:"",class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},[t[6]||(t[6]=(0,a.Lk)("option",{value:""},"Select a node",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.value,(function(e){return(0,a.uX)(),(0,a.CE)("option",{key:e._id,value:e._id},(0,s.v_)(e.name),9,rt)})),128))],512),[[n.u1,c.value.nodeId]])]),(0,a.Lk)("div",nt,[(0,a.Lk)("div",null,[t[8]||(t[8]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Minecraft Configuration",-1)),(0,a.bF)(se,{modelValue:c.value.minecraftConfig,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return c.value.minecraftConfig=e}),m]},null,8,["modelValue"])]),(0,a.Lk)("div",at,[t[9]||(t[9]=(0,a.Lk)("h3",{class:"text-sm font-medium text-gray-700"},"Server Settings",-1)),(0,a.bF)(et,{modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=function(e){return p.value=e})},null,8,["modelValue"])])]),d.value?((0,a.uX)(),(0,a.CE)("div",st,(0,s.v_)(d.value),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",ot,[(0,a.Lk)("button",{type:"button",onClick:t[4]||(t[4]=function(e){return o("cancel")}),class:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Cancel "),(0,a.Lk)("button",{type:"submit",disabled:u.value,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"},[u.value?((0,a.uX)(),(0,a.CE)("span",it,"Creating...")):((0,a.uX)(),(0,a.CE)("span",ut,"Add Server"))],8,lt)])],32)])}}},ct=(0,T.A)(dt,[["__scopeId","data-v-1c3101d8"]]),pt=ct;var vt={class:"server-properties-editor"},mt={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"},ft={class:"space-y-6"},gt={class:"bg-white p-4 rounded-lg shadow"},bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xt={class:"bg-white p-4 rounded-lg shadow"},kt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},yt={class:"mt-1"},ht={class:"inline-flex items-center"},wt={class:"bg-white p-4 rounded-lg shadow"},Lt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ct={class:"bg-white p-4 rounded-lg shadow"},At={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},St={class:"mt-1"},Et={class:"inline-flex items-center"},_t={class:"mt-1"},Vt={class:"inline-flex items-center"},jt={class:"bg-white p-4 rounded-lg shadow"},Xt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Rt={class:"mt-1"},Pt={class:"inline-flex items-center"},Mt={class:"mt-1"},Tt={class:"inline-flex items-center"},Ft={class:"mt-1"},Kt={class:"inline-flex items-center"},It={class:"mt-1"},Ut={class:"inline-flex items-center"},Bt={class:"flex justify-between"},Dt=["disabled"],Ot={key:0},Nt={key:1},Wt={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center"},Jt={class:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full"},Qt={class:"flex justify-end gap-4"};const qt={__name:"ServerPropertiesEditor",props:{serverId:{type:String,required:!0}},emits:["config-saved"],setup:function(e,t){var r=t.emit,o=e,l=r,i={serverName:"Minecraft Server",maxPlayers:20,difficulty:"normal",gameMode:"survival",viewDistance:10,spawnProtection:16,seed:"",worldType:"default",generateStructures:!0,port:25565,onlineMode:!0,whiteList:!1,pvp:!0,allowFlight:!1,allowNether:!0,enableCommandBlock:!0,maxTickTime:6e4,motd:"Welcome to your Minecraft server!",enableQuery:!0,queryPort:25565,enableRcon:!1,rconPort:25575,rconPassword:"",opPermissionLevel:4,functionPermissionLevel:2,forceGamemode:!1,hardcore:!1,hideOnlinePlayers:!1},u=(0,y.KR)((0,x.A)({},i)),d=(0,y.KR)(!1),c=(0,y.KR)(null),p=(0,y.KR)(!1),v=function(){u.value=(0,x.A)({},i)},m=function(){p.value=!0},f=function(){var e=(0,k.A)((0,b.A)().mark((function e(){var t;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,d.value=!0,c.value=null,e.next=5,h.A.get("/api/servers/".concat(o.serverId,"/config"));case 5:t=e.sent,u.value=(0,x.A)((0,x.A)({},i),t.data),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),c.value="Failed to fetch server configuration",console.error("Error fetching config:",e.t0);case 13:return e.prev=13,d.value=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,k.A)((0,b.A)().mark((function e(){return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,d.value=!0,c.value=null,p.value=!1,e.next=6,h.A.put("/api/servers/".concat(o.serverId,"/config"),u.value);case 6:l("config-saved"),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),c.value="Failed to save server configuration",console.error("Error saving config:",e.t0);case 13:return e.prev=13,d.value=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(){return e.apply(this,arguments)}}();return(0,a.sV)((function(){f()})),function(e,t){return(0,a.uX)(),(0,a.CE)("div",vt,[c.value?((0,a.uX)(),(0,a.CE)("div",mt,(0,s.v_)(c.value),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",ft,[(0,a.Lk)("div",gt,[t[26]||(t[26]=(0,a.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Basic Settings",-1)),(0,a.Lk)("div",bt,[(0,a.Lk)("div",null,[t[19]||(t[19]=(0,a.Lk)("label",{for:"serverName",class:"block text-sm font-medium text-gray-700"},"Server Name",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"serverName","onUpdate:modelValue":t[0]||(t[0]=function(e){return u.value.serverName=e}),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"My Minecraft Server"},null,512),[[n.Jo,u.value.serverName]])]),(0,a.Lk)("div",null,[t[20]||(t[20]=(0,a.Lk)("label",{for:"motd",class:"block text-sm font-medium text-gray-700"},"Message of the Day (MOTD)",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"motd","onUpdate:modelValue":t[1]||(t[1]=function(e){return u.value.motd=e}),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Welcome message shown in the server list"},null,512),[[n.Jo,u.value.motd]])]),(0,a.Lk)("div",null,[t[21]||(t[21]=(0,a.Lk)("label",{for:"maxPlayers",class:"block text-sm font-medium text-gray-700"},"Max Players",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",id:"maxPlayers","onUpdate:modelValue":t[2]||(t[2]=function(e){return u.value.maxPlayers=e}),min:"1",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[n.Jo,u.value.maxPlayers]])]),(0,a.Lk)("div",null,[t[23]||(t[23]=(0,a.Lk)("label",{for:"difficulty",class:"block text-sm font-medium text-gray-700"},"Difficulty",-1)),(0,a.bo)((0,a.Lk)("select",{id:"difficulty","onUpdate:modelValue":t[3]||(t[3]=function(e){return u.value.difficulty=e}),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},t[22]||(t[22]=[(0,a.Lk)("option",{value:"peaceful"},"Peaceful",-1),(0,a.Lk)("option",{value:"easy"},"Easy",-1),(0,a.Lk)("option",{value:"normal"},"Normal",-1),(0,a.Lk)("option",{value:"hard"},"Hard",-1)]),512),[[n.u1,u.value.difficulty]])]),(0,a.Lk)("div",null,[t[25]||(t[25]=(0,a.Lk)("label",{for:"gameMode",class:"block text-sm font-medium text-gray-700"},"Game Mode",-1)),(0,a.bo)((0,a.Lk)("select",{id:"gameMode","onUpdate:modelValue":t[4]||(t[4]=function(e){return u.value.gameMode=e}),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},t[24]||(t[24]=[(0,a.Lk)("option",{value:"survival"},"Survival",-1),(0,a.Lk)("option",{value:"creative"},"Creative",-1),(0,a.Lk)("option",{value:"adventure"},"Adventure",-1),(0,a.Lk)("option",{value:"spectator"},"Spectator",-1)]),512),[[n.u1,u.value.gameMode]])])])]),(0,a.Lk)("div",xt,[t[32]||(t[32]=(0,a.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"World Settings",-1)),(0,a.Lk)("div",kt,[(0,a.Lk)("div",null,[t[27]||(t[27]=(0,a.Lk)("label",{for:"seed",class:"block text-sm font-medium text-gray-700"},"World Seed",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"seed","onUpdate:modelValue":t[5]||(t[5]=function(e){return u.value.seed=e}),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Leave empty for random"},null,512),[[n.Jo,u.value.seed]])]),(0,a.Lk)("div",null,[t[29]||(t[29]=(0,a.Lk)("label",{for:"worldType",class:"block text-sm font-medium text-gray-700"},"World Type",-1)),(0,a.bo)((0,a.Lk)("select",{id:"worldType","onUpdate:modelValue":t[6]||(t[6]=function(e){return u.value.worldType=e}),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},t[28]||(t[28]=[(0,a.Fv)('<option value="default" data-v-695e5d5a>Default</option><option value="flat" data-v-695e5d5a>Flat</option><option value="large_biomes" data-v-695e5d5a>Large Biomes</option><option value="amplified" data-v-695e5d5a>Amplified</option><option value="single_biome_surface" data-v-695e5d5a>Single Biome</option>',5)]),512),[[n.u1,u.value.worldType]])]),(0,a.Lk)("div",null,[t[31]||(t[31]=(0,a.Lk)("label",{for:"generateStructures",class:"block text-sm font-medium text-gray-700"},"Generate Structures",-1)),(0,a.Lk)("div",yt,[(0,a.Lk)("label",ht,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=function(e){return u.value.generateStructures=e}),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[n.lH,u.value.generateStructures]]),t[30]||(t[30]=(0,a.Lk)("span",{class:"ml-2"},"Enable structure generation",-1))])])])])]),(0,a.Lk)("div",wt,[t[36]||(t[36]=(0,a.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Performance Settings",-1)),(0,a.Lk)("div",Lt,[(0,a.Lk)("div",null,[t[33]||(t[33]=(0,a.Lk)("label",{for:"viewDistance",class:"block text-sm font-medium text-gray-700"},"View Distance",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",id:"viewDistance","onUpdate:modelValue":t[8]||(t[8]=function(e){return u.value.viewDistance=e}),min:"3",max:"32",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[n.Jo,u.value.viewDistance]])]),(0,a.Lk)("div",null,[t[34]||(t[34]=(0,a.Lk)("label",{for:"spawnProtection",class:"block text-sm font-medium text-gray-700"},"Spawn Protection",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",id:"spawnProtection","onUpdate:modelValue":t[9]||(t[9]=function(e){return u.value.spawnProtection=e}),min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[n.Jo,u.value.spawnProtection]])]),(0,a.Lk)("div",null,[t[35]||(t[35]=(0,a.Lk)("label",{for:"maxTickTime",class:"block text-sm font-medium text-gray-700"},"Max Tick Time (ms)",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",id:"maxTickTime","onUpdate:modelValue":t[10]||(t[10]=function(e){return u.value.maxTickTime=e}),min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[n.Jo,u.value.maxTickTime]])])])]),(0,a.Lk)("div",Ct,[t[42]||(t[42]=(0,a.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Network Settings",-1)),(0,a.Lk)("div",At,[(0,a.Lk)("div",null,[t[37]||(t[37]=(0,a.Lk)("label",{for:"port",class:"block text-sm font-medium text-gray-700"},"Server Port",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",id:"port","onUpdate:modelValue":t[11]||(t[11]=function(e){return u.value.port=e}),min:"1",max:"65535",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[n.Jo,u.value.port]])]),(0,a.Lk)("div",null,[t[39]||(t[39]=(0,a.Lk)("label",{for:"onlineMode",class:"block text-sm font-medium text-gray-700"},"Online Mode",-1)),(0,a.Lk)("div",St,[(0,a.Lk)("label",Et,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=function(e){return u.value.onlineMode=e}),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[n.lH,u.value.onlineMode]]),t[38]||(t[38]=(0,a.Lk)("span",{class:"ml-2"},"Require authentication",-1))])])]),(0,a.Lk)("div",null,[t[41]||(t[41]=(0,a.Lk)("label",{for:"whiteList",class:"block text-sm font-medium text-gray-700"},"Whitelist",-1)),(0,a.Lk)("div",_t,[(0,a.Lk)("label",Vt,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=function(e){return u.value.whiteList=e}),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[n.lH,u.value.whiteList]]),t[40]||(t[40]=(0,a.Lk)("span",{class:"ml-2"},"Enable whitelist",-1))])])])])]),(0,a.Lk)("div",jt,[t[51]||(t[51]=(0,a.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Gameplay Settings",-1)),(0,a.Lk)("div",Xt,[(0,a.Lk)("div",null,[t[44]||(t[44]=(0,a.Lk)("label",{for:"pvp",class:"block text-sm font-medium text-gray-700"},"PvP",-1)),(0,a.Lk)("div",Rt,[(0,a.Lk)("label",Pt,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[14]||(t[14]=function(e){return u.value.pvp=e}),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[n.lH,u.value.pvp]]),t[43]||(t[43]=(0,a.Lk)("span",{class:"ml-2"},"Enable PvP",-1))])])]),(0,a.Lk)("div",null,[t[46]||(t[46]=(0,a.Lk)("label",{for:"allowFlight",class:"block text-sm font-medium text-gray-700"},"Allow Flight",-1)),(0,a.Lk)("div",Mt,[(0,a.Lk)("label",Tt,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=function(e){return u.value.allowFlight=e}),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[n.lH,u.value.allowFlight]]),t[45]||(t[45]=(0,a.Lk)("span",{class:"ml-2"},"Allow players to fly",-1))])])]),(0,a.Lk)("div",null,[t[48]||(t[48]=(0,a.Lk)("label",{for:"allowNether",class:"block text-sm font-medium text-gray-700"},"Allow Nether",-1)),(0,a.Lk)("div",Ft,[(0,a.Lk)("label",Kt,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[16]||(t[16]=function(e){return u.value.allowNether=e}),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[n.lH,u.value.allowNether]]),t[47]||(t[47]=(0,a.Lk)("span",{class:"ml-2"},"Enable Nether dimension",-1))])])]),(0,a.Lk)("div",null,[t[50]||(t[50]=(0,a.Lk)("label",{for:"enableCommandBlock",class:"block text-sm font-medium text-gray-700"},"Command Blocks",-1)),(0,a.Lk)("div",It,[(0,a.Lk)("label",Ut,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=function(e){return u.value.enableCommandBlock=e}),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[n.lH,u.value.enableCommandBlock]]),t[49]||(t[49]=(0,a.Lk)("span",{class:"ml-2"},"Enable command blocks",-1))])])])])]),(0,a.Lk)("div",Bt,[(0,a.Lk)("button",{onClick:v,class:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Reset to Defaults "),(0,a.Lk)("button",{onClick:m,disabled:d.value,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"},[d.value?((0,a.uX)(),(0,a.CE)("span",Ot,"Saving...")):((0,a.uX)(),(0,a.CE)("span",Nt,"Save Configuration"))],8,Dt)]),p.value?((0,a.uX)(),(0,a.CE)("div",Wt,[(0,a.Lk)("div",Jt,[t[52]||(t[52]=(0,a.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Confirm Changes",-1)),t[53]||(t[53]=(0,a.Lk)("p",{class:"text-gray-600 mb-4"}," Saving these changes will restart the server if it's currently running. Are you sure you want to continue? ",-1)),(0,a.Lk)("div",Qt,[(0,a.Lk)("button",{onClick:t[18]||(t[18]=function(e){return p.value=!1}),class:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200"}," Cancel "),(0,a.Lk)("button",{onClick:g,class:"px-4 py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700"}," Confirm ")])])])):(0,a.Q3)("",!0)])])}}},Ht=(0,T.A)(qt,[["__scopeId","data-v-695e5d5a"]]),zt=Ht;var $t={class:"server-config"},Gt={class:"max-w-4xl mx-auto"},Yt={class:"flex justify-between items-center mb-6"};const Zt={__name:"ServerConfig",setup:function(e){var t=(0,g.lq)(),r=(0,g.rd)(),n=(0,y.KR)(t.params.id),s=function(){r.push("/servers/".concat(n.value))};return function(e,t){var r=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",$t,[(0,a.Lk)("div",Gt,[(0,a.Lk)("div",Yt,[t[1]||(t[1]=(0,a.Lk)("h2",{class:"text-2xl font-bold"},"Server Configuration",-1)),(0,a.bF)(r,{to:"/servers/".concat(n.value),class:"text-indigo-600 hover:text-indigo-800"},{default:(0,a.k6)((function(){return t[0]||(t[0]=[(0,a.eW)(" Back to Server ")])})),_:1},8,["to"])]),(0,a.bF)(zt,{"server-id":n.value,onConfigSaved:s},null,8,["server-id"])])])}}},er=(0,T.A)(Zt,[["__scopeId","data-v-7726f174"]]),tr=er;r(3288),r(9868),r(8459);var rr={class:"minecraft-cache-manager"},nr={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"},ar={key:1,class:"flex justify-center"},sr={key:2,class:"text-gray-500 text-center py-4"},or={key:3,class:"space-y-4"},lr={class:"font-medium"},ir={class:"text-sm text-gray-500"},ur={class:"text-sm text-gray-500"},dr={class:"text-sm text-gray-500"},cr={class:"flex gap-2"},pr=["onClick"],vr=["onClick"],mr={class:"mt-8"};const fr={__name:"MinecraftCacheManager",setup:function(e){var t=(0,y.KR)([]),r=(0,y.KR)(!1),n=(0,y.KR)(null),o=(0,y.KR)({type:"",version:""}),l=function(){var e=(0,k.A)((0,b.A)().mark((function e(){var a;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r.value=!0,n.value=null,e.next=5,h.A.get("/api/minecraft/cache");case 5:a=e.sent,t.value=a.data,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),n.value="Failed to fetch cache contents",console.error("Error fetching cache:",e.t0);case 13:return e.prev=13,r.value=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,k.A)((0,b.A)().mark((function e(t,r){return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.A["delete"]("/api/minecraft/cache/".concat(t,"/").concat(r));case 3:return e.next=5,l();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),n.value="Failed to remove from cache",console.error("Error removing from cache:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),u=function(){var e=(0,k.A)((0,b.A)().mark((function e(){return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to clear the entire cache?")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,h.A.post("/api/minecraft/cache/clear");case 5:return e.next=7,l();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),n.value="Failed to clear cache",console.error("Error clearing cache:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,k.A)((0,b.A)().mark((function e(){return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,k.A)((0,b.A)().mark((function e(t,r){var a,s,o,l;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.A.get("/api/minecraft/download/".concat(t,"/").concat(r),{responseType:"blob"});case 3:a=e.sent,s=new Blob([a.data],{type:"application/java-archive"}),o=window.URL.createObjectURL(s),l=document.createElement("a"),l.href=o,l.download="".concat(t,"-").concat(r,".jar"),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(o),document.body.removeChild(l),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](0),n.value="Failed to download server jar",console.error("Error downloading server jar:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r){return e.apply(this,arguments)}}(),p=function(e){if(0===e)return"0 Bytes";var t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]},v=function(e){return new Date(e).toLocaleString()};return(0,a.sV)((function(){l()})),function(e,l){return(0,a.uX)(),(0,a.CE)("div",rr,[(0,a.Lk)("div",{class:"flex justify-between items-center mb-6"},[l[1]||(l[1]=(0,a.Lk)("h2",{class:"text-xl font-semibold"},"Server Jar Cache",-1)),(0,a.Lk)("button",{onClick:u,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"}," Clear Cache ")]),n.value?((0,a.uX)(),(0,a.CE)("div",nr,(0,s.v_)(n.value),1)):(0,a.Q3)("",!0),r.value?((0,a.uX)(),(0,a.CE)("div",ar,l[2]||(l[2]=[(0,a.Lk)("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"},null,-1)]))):0===t.value.length?((0,a.uX)(),(0,a.CE)("div",sr," No server jars in cache ")):((0,a.uX)(),(0,a.CE)("div",or,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.value,(function(e){return(0,a.uX)(),(0,a.CE)("div",{key:"".concat(e.type,"-").concat(e.version),class:"bg-white p-4 rounded-lg shadow flex justify-between items-center"},[(0,a.Lk)("div",null,[(0,a.Lk)("div",lr,(0,s.v_)(e.type),1),(0,a.Lk)("div",ir,"Version: "+(0,s.v_)(e.version),1),(0,a.Lk)("div",ur,"Size: "+(0,s.v_)(p(e.size)),1),(0,a.Lk)("div",dr,"Downloaded: "+(0,s.v_)(v(e.downloadedAt)),1)]),(0,a.Lk)("div",cr,[(0,a.Lk)("button",{onClick:function(t){return c(e.type,e.version)},class:"px-3 py-1 text-sm text-blue-600 hover:text-blue-800 focus:outline-none"}," Download ",8,pr),(0,a.Lk)("button",{onClick:function(t){return i(e.type,e.version)},class:"px-3 py-1 text-sm text-red-600 hover:text-red-800 focus:outline-none"}," Remove ",8,vr)])])})),128))])),(0,a.Lk)("div",mr,[l[3]||(l[3]=(0,a.Lk)("h3",{class:"text-lg font-medium mb-4"},"Download New Server",-1)),(0,a.bF)(se,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=function(e){return o.value=e}),onDownloadComplete:d},null,8,["modelValue"])])])}}},gr=(0,T.A)(fr,[["__scopeId","data-v-5fe59412"]]),br=gr;r(4423),r(7495),r(5440);var xr={class:"container mx-auto px-4 py-8"},kr={key:0,class:"flex justify-center items-center h-64"},yr={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert"},hr={class:"block sm:inline"},wr={key:2,class:"bg-white rounded-lg shadow-lg p-6"},Lr={class:"flex justify-between items-center mb-6"},Cr={class:"text-2xl font-bold"},Ar={class:"flex gap-2"},Sr={class:"mb-6"},Er={class:"flex items-center gap-2"},_r={key:0,class:"text-gray-600"},Vr={key:0,class:"mt-1 text-sm text-gray-600"},jr={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},Xr={class:"grid grid-cols-2 gap-2"},Rr={class:"flex gap-2"},Pr={key:3,class:"text-center py-12"};function Mr(e,t,r,n,o,l){var i,u=(0,a.g2)("ServerJarSwap"),d=(0,a.g2)("ServerControlButtons"),c=(0,a.g2)("ServerConfigFiles"),p=(0,a.g2)("ServerProvisioningStatus");return(0,a.uX)(),(0,a.CE)("div",xr,[n.loading?((0,a.uX)(),(0,a.CE)("div",kr,t[1]||(t[1]=[(0,a.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"},null,-1)]))):n.error?((0,a.uX)(),(0,a.CE)("div",yr,[t[2]||(t[2]=(0,a.Lk)("strong",{class:"font-bold"},"Error!",-1)),(0,a.Lk)("span",hr,(0,s.v_)(n.error),1)])):n.server?((0,a.uX)(),(0,a.CE)("div",wr,[(0,a.Lk)("div",Lr,[(0,a.Lk)("h1",Cr,(0,s.v_)(n.server.name),1),(0,a.Lk)("div",Ar,[(0,a.bF)(u,{"server-id":n.server._id,"current-type":n.server.serverType,"current-version":n.server.minecraftVersion,onJarSwapped:n.handleJarSwapped},null,8,["server-id","current-type","current-version","onJarSwapped"]),(0,a.bF)(d,{"server-status":n.server.status,"is-starting":n.isStarting,"is-stopping":n.isStopping,"is-restarting":n.isRestarting,onStart:n.startServer,onStop:n.stopServer,onRestart:n.restartServer},null,8,["server-status","is-starting","is-stopping","is-restarting","onStart","onStop","onRestart"])])]),(0,a.Lk)("div",Sr,[t[3]||(t[3]=(0,a.Lk)("h2",{class:"text-lg font-semibold mb-2"},"Server Status",-1)),(0,a.Lk)("div",Er,[(0,a.Lk)("span",{class:(0,s.C4)([{"bg-green-100 text-green-800":"running"===n.server.status,"bg-red-100 text-red-800":"stopped"===n.server.status,"bg-yellow-100 text-yellow-800":["provisioning","provisioning_setup","provisioning_download","provisioning_config","starting","stopping"].includes(n.server.status),"bg-blue-100 text-blue-800":"provisioned"===n.server.status,"bg-gray-100 text-gray-800":"error"===n.server.status},"px-2 py-1 rounded-full text-sm font-medium"])},(0,s.v_)(n.server.status.replace(/_/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()}))),3),void 0!==n.server.playerCount?((0,a.uX)(),(0,a.CE)("span",_r," Players: "+(0,s.v_)(n.server.playerCount),1)):(0,a.Q3)("",!0)]),n.server.statusMessage?((0,a.uX)(),(0,a.CE)("p",Vr,(0,s.v_)(n.server.statusMessage),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",jr,[(0,a.Lk)("div",null,[t[7]||(t[7]=(0,a.Lk)("h2",{class:"text-lg font-semibold mb-2"},"Server Details",-1)),(0,a.Lk)("dl",Xr,[t[4]||(t[4]=(0,a.Lk)("dt",{class:"text-gray-600"},"Type:",-1)),(0,a.Lk)("dd",null,(0,s.v_)(n.server.serverType),1),t[5]||(t[5]=(0,a.Lk)("dt",{class:"text-gray-600"},"Version:",-1)),(0,a.Lk)("dd",null,(0,s.v_)(n.server.minecraftVersion),1),t[6]||(t[6]=(0,a.Lk)("dt",{class:"text-gray-600"},"Node:",-1)),(0,a.Lk)("dd",null,(0,s.v_)((null===(i=n.server.nodeId)||void 0===i?void 0:i.name)||"Unknown"),1)])]),(0,a.Lk)("div",null,[t[8]||(t[8]=(0,a.Lk)("h2",{class:"text-lg font-semibold mb-2"},"Actions",-1)),(0,a.Lk)("div",Rr,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=function(){return n.navigateToConfig&&n.navigateToConfig.apply(n,arguments)}),class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md"}," Configure Server ")])])]),(0,a.bF)(c),!n.server||"provisioning"!==n.server.status&&"jar_swap_in_progress"!==n.server.status?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(p,{key:0,server:n.server},null,8,["server"]))])):((0,a.uX)(),(0,a.CE)("div",Pr,t[9]||(t[9]=[(0,a.Lk)("h2",{class:"text-xl font-semibold text-gray-900"},"Server not found",-1),(0,a.Lk)("p",{class:"mt-2 text-gray-600"},"The server you're looking for doesn't exist or has been deleted.",-1)])))])}r(6280),r(6918);var Tr=["disabled"],Fr={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Kr={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},Ir={class:"flex justify-between items-center mb-4"},Ur={class:"mb-4"},Br=["disabled"],Dr=["value"],Or={class:"mb-4"},Nr=["disabled"],Wr=["value"],Jr={key:0,class:"mb-4 p-3 bg-yellow-100 text-yellow-700 rounded-md"},Qr={class:"flex justify-end gap-2"},qr=["disabled"],Hr=["disabled"],zr={key:0},$r={key:1};function Gr(e,t,r,o,l,i){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=function(){return o.openModal&&o.openModal.apply(o,arguments)}),class:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-md flex items-center gap-2",disabled:o.isLoading},t[6]||(t[6]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,a.Lk)("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1),(0,a.eW)(" Swap Jar ")]),8,Tr),o.isModalOpen?((0,a.uX)(),(0,a.CE)("div",Fr,[(0,a.Lk)("div",Kr,[(0,a.Lk)("div",Ir,[t[8]||(t[8]=(0,a.Lk)("h2",{class:"text-xl font-semibold"},"Swap Server Jar",-1)),(0,a.Lk)("button",{onClick:t[1]||(t[1]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)}),class:"text-gray-500 hover:text-gray-700"},t[7]||(t[7]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),(0,a.Lk)("div",Ur,[t[10]||(t[10]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Server Type",-1)),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.selectedType=e}),class:"w-full p-2 border rounded-md",disabled:o.isLoading},[t[9]||(t[9]=(0,a.Lk)("option",{value:""},"Select a type",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.serverTypes,(function(e){return(0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,Dr)})),128))],8,Br),[[n.u1,o.selectedType]])]),(0,a.Lk)("div",Or,[t[12]||(t[12]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Version",-1)),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.selectedVersion=e}),class:"w-full p-2 border rounded-md",disabled:o.isLoading||!o.selectedType},[t[11]||(t[11]=(0,a.Lk)("option",{value:""},"Select a version",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.versions,(function(e){return(0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,Wr)})),128))],8,Nr),[[n.u1,o.selectedVersion]])]),o.showWarning?((0,a.uX)(),(0,a.CE)("div",Jr,t[13]||(t[13]=[(0,a.Lk)("p",{class:"text-sm"}," Warning: Swapping the jar file will stop the server if it's running. Make sure to backup your world before proceeding. ",-1)]))):(0,a.Q3)("",!0),(0,a.Lk)("div",Qr,[(0,a.Lk)("button",{onClick:t[4]||(t[4]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)}),class:"px-4 py-2 text-gray-700 hover:text-gray-900",disabled:o.isLoading}," Cancel ",8,qr),(0,a.Lk)("button",{onClick:t[5]||(t[5]=function(){return o.swapJar&&o.swapJar.apply(o,arguments)}),class:"px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 disabled:opacity-50",disabled:o.isLoading||!o.selectedType||!o.selectedVersion},[o.isLoading?((0,a.uX)(),(0,a.CE)("span",zr,"Swapping...")):((0,a.uX)(),(0,a.CE)("span",$r,"Swap Jar"))],8,Hr)])])])):(0,a.Q3)("",!0)])}const Yr={name:"ServerJarSwap",props:{serverId:{type:String,required:!0},currentType:{type:String,required:!0},currentVersion:{type:String,required:!0}},emits:["jar-swapped"],setup:function(e,t){var r=t.emit,n=(0,y.KR)(!1),s=(0,y.KR)(!1),o=(0,y.KR)(!0),l=(0,y.KR)([]),i=(0,y.KR)([]),u=(0,y.KR)(""),d=(0,y.KR)(""),c=function(){var e=(0,k.A)((0,b.A)().mark((function e(){var t;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.A.get("/api/minecraft/types");case 3:t=e.sent,l.value=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Error fetching server types:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,k.A)((0,b.A)().mark((function e(t){var r;return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.A.get("/api/minecraft/versions/".concat(t));case 3:r=e.sent,i.value=r.data,d.value="",e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error("Error fetching versions:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){n.value=!0,u.value=e.currentType,u.value&&p(u.value)},m=function(){n.value=!1,u.value="",d.value="",i.value=[]},f=function(){var t=(0,k.A)((0,b.A)().mark((function t(){var n;return(0,b.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(u.value&&d.value){t.next=2;break}return t.abrupt("return");case 2:return s.value=!0,t.prev=3,t.next=6,h.A.post("/api/servers/".concat(e.serverId,"/swap-jar"),{newType:u.value,newVersion:d.value});case 6:n=t.sent,r("jar-swapped",n.data.server),m(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),console.error("Error swapping jar:",t.t0);case 14:return t.prev=14,s.value=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[3,11,14,17]])})));return function(){return t.apply(this,arguments)}}();return(0,a.wB)(u,(function(e){e&&p(e)})),(0,a.sV)((function(){c()})),{isModalOpen:n,isLoading:s,showWarning:o,serverTypes:l,versions:i,selectedType:u,selectedVersion:d,openModal:v,closeModal:m,swapJar:f}}},Zr=(0,T.A)(Yr,[["render",Gr],["__scopeId","data-v-66600200"]]),en=Zr;var tn={class:"flex gap-2"},rn=["disabled"],nn={key:0,class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},an=["disabled"],sn={key:0,class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},on=["disabled"],ln={key:0,class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function un(e,t,r,n,o,l){return(0,a.uX)(),(0,a.CE)("div",tn,[["stopped","failed","provisioned"].includes(r.serverStatus)?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[0]||(t[0]=function(t){return e.$emit("start")}),disabled:r.isStarting||["starting","provisioning","provisioning_setup","provisioning_download","provisioning_config"].includes(r.serverStatus),class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[r.isStarting||"starting"===r.serverStatus?((0,a.uX)(),(0,a.CE)("svg",nn,t[3]||(t[3]=[(0,a.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,a.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(0,a.Q3)("",!0),(0,a.Lk)("span",null,(0,s.v_)(r.isStarting||"starting"===r.serverStatus?"Starting...":"Start Server"),1)],8,rn)):(0,a.Q3)("",!0),["running","starting","provisioned"].includes(r.serverStatus)?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t[1]||(t[1]=function(t){return e.$emit("stop")}),disabled:r.isStopping||["stopping","provisioning","provisioning_setup","provisioning_download","provisioning_config"].includes(r.serverStatus),class:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[r.isStopping||"stopping"===r.serverStatus?((0,a.uX)(),(0,a.CE)("svg",sn,t[4]||(t[4]=[(0,a.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,a.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(0,a.Q3)("",!0),(0,a.Lk)("span",null,(0,s.v_)(r.isStopping||"stopping"===r.serverStatus?"Stopping...":"Stop Server"),1)],8,an)):(0,a.Q3)("",!0),["running","starting","provisioned"].includes(r.serverStatus)?((0,a.uX)(),(0,a.CE)("button",{key:2,onClick:t[2]||(t[2]=function(t){return e.$emit("restart")}),disabled:r.isRestarting||["stopping","starting","provisioning","provisioning_setup","provisioning_download","provisioning_config"].includes(r.serverStatus),class:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[r.isRestarting||"stopping"===r.serverStatus?((0,a.uX)(),(0,a.CE)("svg",ln,t[5]||(t[5]=[(0,a.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,a.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(0,a.Q3)("",!0),(0,a.Lk)("span",null,(0,s.v_)(r.isRestarting||"stopping"===r.serverStatus?"Restarting...":"Restart Server"),1)],8,on)):(0,a.Q3)("",!0)])}const dn={name:"ServerControlButtons",props:{serverStatus:{type:String,required:!0},isStarting:{type:Boolean,default:!1},isStopping:{type:Boolean,default:!1},isRestarting:{type:Boolean,default:!1}},emits:["start","stop","restart"]},cn=(0,T.A)(dn,[["render",un]]),pn=cn;var vn={class:"bg-white rounded-lg shadow-lg p-6 mb-6"},mn={class:"mb-4"},fn={class:"border-b border-gray-200"},gn={class:"-mb-px flex space-x-8"},bn=["onClick"],xn={key:0,class:"flex justify-center items-center h-64"},kn={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert"},yn={class:"block sm:inline"},hn={key:2},wn={key:0,class:"space-y-4"},Ln={class:"flex justify-between items-center"},Cn={class:"overflow-x-auto"},An={class:"min-w-full divide-y divide-gray-200"},Sn={class:"bg-white divide-y divide-gray-200"},En={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},_n={class:"px-6 py-4 text-sm text-gray-500"},Vn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},jn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Xn=["onClick"],Rn={key:1,class:"space-y-4"},Pn={class:"flex justify-between items-center"},Mn={class:"overflow-x-auto"},Tn={class:"min-w-full divide-y divide-gray-200"},Fn={class:"bg-white divide-y divide-gray-200"},Kn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},In={class:"px-6 py-4 text-sm text-gray-500"},Un={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Bn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Dn=["onClick"],On={key:2,class:"space-y-4"},Nn={class:"flex justify-between items-center"},Wn={class:"overflow-x-auto"},Jn={class:"min-w-full divide-y divide-gray-200"},Qn={class:"bg-white divide-y divide-gray-200"},qn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Hn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},zn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},$n=["onClick"],Gn={key:3,class:"space-y-4"},Yn={class:"flex justify-between items-center"},Zn={class:"overflow-x-auto"},ea={class:"min-w-full divide-y divide-gray-200"},ta={class:"bg-white divide-y divide-gray-200"},ra={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},na={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},aa=["onClick"],sa={key:3,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full"},oa={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},la={class:"mt-3"},ia={class:"text-lg font-medium leading-6 text-gray-900 mb-4"},ua={class:"mt-2"},da=["type","placeholder"],ca={class:"flex justify-end gap-2 mt-4"},pa={key:4,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full"},va={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},ma={class:"mt-3"},fa={class:"mt-2"},ga={class:"flex justify-end gap-2 mt-4"},ba={key:5,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full"},xa={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},ka={class:"mt-3"},ya={class:"mt-2"},ha={class:"flex justify-end gap-2 mt-4"};function wa(e,t,r,o,l,i){return(0,a.uX)(),(0,a.CE)("div",vn,[t[28]||(t[28]=(0,a.Lk)("h2",{class:"text-lg font-semibold mb-4"},"Server Configuration Files",-1)),(0,a.Lk)("div",mn,[(0,a.Lk)("div",fn,[(0,a.Lk)("nav",gn,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.tabs,(function(e){return(0,a.uX)(),(0,a.CE)("button",{key:e.id,onClick:function(t){return o.activeTab=e.id},class:(0,s.C4)([o.activeTab===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},(0,s.v_)(e.name),11,bn)})),128))])])]),o.loading?((0,a.uX)(),(0,a.CE)("div",xn,t[16]||(t[16]=[(0,a.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"},null,-1)]))):o.error?((0,a.uX)(),(0,a.CE)("div",kn,[t[17]||(t[17]=(0,a.Lk)("strong",{class:"font-bold"},"Error!",-1)),(0,a.Lk)("span",yn,(0,s.v_)(o.error),1)])):((0,a.uX)(),(0,a.CE)("div",hn,["banned-ips"===o.activeTab?((0,a.uX)(),(0,a.CE)("div",wn,[(0,a.Lk)("div",Ln,[t[18]||(t[18]=(0,a.Lk)("h3",{class:"text-md font-medium"},"Banned IP Addresses",-1)),(0,a.Lk)("button",{onClick:t[0]||(t[0]=function(e){return o.showAddBanModal=!0}),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-md text-sm"}," Add IP Ban ")]),(0,a.Lk)("div",Cn,[(0,a.Lk)("table",An,[t[19]||(t[19]=(0,a.Lk)("thead",{class:"bg-gray-50"},[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"IP Address"),(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Reason"),(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Expires"),(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),(0,a.Lk)("tbody",Sn,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.bannedIPs,(function(e){return(0,a.uX)(),(0,a.CE)("tr",{key:e.ip},[(0,a.Lk)("td",En,(0,s.v_)(e.ip),1),(0,a.Lk)("td",_n,(0,s.v_)(e.reason),1),(0,a.Lk)("td",Vn,(0,s.v_)(e.expires?new Date(e.expires).toLocaleString():"Never"),1),(0,a.Lk)("td",jn,[(0,a.Lk)("button",{onClick:function(t){return o.removeBan("banned-ips",e.ip)},class:"text-red-600 hover:text-red-900"}," Remove ",8,Xn)])])})),128))])])])])):(0,a.Q3)("",!0),"banned-players"===o.activeTab?((0,a.uX)(),(0,a.CE)("div",Rn,[(0,a.Lk)("div",Pn,[t[20]||(t[20]=(0,a.Lk)("h3",{class:"text-md font-medium"},"Banned Players",-1)),(0,a.Lk)("button",{onClick:t[1]||(t[1]=function(e){return o.showAddBanModal=!0}),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-md text-sm"}," Add Player Ban ")]),(0,a.Lk)("div",Mn,[(0,a.Lk)("table",Tn,[t[21]||(t[21]=(0,a.Lk)("thead",{class:"bg-gray-50"},[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Player Name"),(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Reason"),(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Expires"),(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),(0,a.Lk)("tbody",Fn,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.bannedPlayers,(function(e){return(0,a.uX)(),(0,a.CE)("tr",{key:e.name},[(0,a.Lk)("td",Kn,(0,s.v_)(e.name),1),(0,a.Lk)("td",In,(0,s.v_)(e.reason),1),(0,a.Lk)("td",Un,(0,s.v_)(e.expires?new Date(e.expires).toLocaleString():"Never"),1),(0,a.Lk)("td",Bn,[(0,a.Lk)("button",{onClick:function(t){return o.removeBan("banned-players",e.name)},class:"text-red-600 hover:text-red-900"}," Remove ",8,Dn)])])})),128))])])])])):(0,a.Q3)("",!0),"ops"===o.activeTab?((0,a.uX)(),(0,a.CE)("div",On,[(0,a.Lk)("div",Nn,[t[22]||(t[22]=(0,a.Lk)("h3",{class:"text-md font-medium"},"Server Operators",-1)),(0,a.Lk)("button",{onClick:t[2]||(t[2]=function(e){return o.showAddOpModal=!0}),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-md text-sm"}," Add Operator ")]),(0,a.Lk)("div",Wn,[(0,a.Lk)("table",Jn,[t[23]||(t[23]=(0,a.Lk)("thead",{class:"bg-gray-50"},[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Player Name"),(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Level"),(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),(0,a.Lk)("tbody",Qn,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.ops,(function(e){return(0,a.uX)(),(0,a.CE)("tr",{key:e.name},[(0,a.Lk)("td",qn,(0,s.v_)(e.name),1),(0,a.Lk)("td",Hn,(0,s.v_)(e.level),1),(0,a.Lk)("td",zn,[(0,a.Lk)("button",{onClick:function(t){return o.removeOp(e.name)},class:"text-red-600 hover:text-red-900"}," Remove ",8,$n)])])})),128))])])])])):(0,a.Q3)("",!0),"whitelist"===o.activeTab?((0,a.uX)(),(0,a.CE)("div",Gn,[(0,a.Lk)("div",Yn,[t[24]||(t[24]=(0,a.Lk)("h3",{class:"text-md font-medium"},"Whitelisted Players",-1)),(0,a.Lk)("button",{onClick:t[3]||(t[3]=function(e){return o.showAddWhitelistModal=!0}),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-md text-sm"}," Add Player ")]),(0,a.Lk)("div",Zn,[(0,a.Lk)("table",ea,[t[25]||(t[25]=(0,a.Lk)("thead",{class:"bg-gray-50"},[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Player Name"),(0,a.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),(0,a.Lk)("tbody",ta,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.whitelist,(function(e){return(0,a.uX)(),(0,a.CE)("tr",{key:e.name},[(0,a.Lk)("td",ra,(0,s.v_)(e.name),1),(0,a.Lk)("td",na,[(0,a.Lk)("button",{onClick:function(t){return o.removeFromWhitelist(e.name)},class:"text-red-600 hover:text-red-900"}," Remove ",8,aa)])])})),128))])])])])):(0,a.Q3)("",!0)])),o.showAddBanModal?((0,a.uX)(),(0,a.CE)("div",sa,[(0,a.Lk)("div",oa,[(0,a.Lk)("div",la,[(0,a.Lk)("h3",ia,"Add "+(0,s.v_)("banned-ips"===o.activeTab?"IP":"Player")+" Ban",1),(0,a.Lk)("div",ua,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.newBan.target=e}),type:(o.activeTab,"text"),placeholder:"banned-ips"===o.activeTab?"IP Address":"Player Name",class:"w-full px-3 py-2 border rounded-md mb-2"},null,8,da),[[n.hp,o.newBan.target]]),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.newBan.reason=e}),placeholder:"Reason for ban",class:"w-full px-3 py-2 border rounded-md mb-2"},null,512),[[n.Jo,o.newBan.reason]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return o.newBan.expires=e}),type:"datetime-local",class:"w-full px-3 py-2 border rounded-md mb-2"},null,512),[[n.Jo,o.newBan.expires]])]),(0,a.Lk)("div",ca,[(0,a.Lk)("button",{onClick:t[7]||(t[7]=function(e){return o.showAddBanModal=!1}),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancel "),(0,a.Lk)("button",{onClick:t[8]||(t[8]=function(){return o.addBan&&o.addBan.apply(o,arguments)}),class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"}," Add Ban ")])])])])):(0,a.Q3)("",!0),o.showAddOpModal?((0,a.uX)(),(0,a.CE)("div",pa,[(0,a.Lk)("div",va,[(0,a.Lk)("div",ma,[t[26]||(t[26]=(0,a.Lk)("h3",{class:"text-lg font-medium leading-6 text-gray-900 mb-4"},"Add Operator",-1)),(0,a.Lk)("div",fa,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.newOp.name=e}),type:"text",placeholder:"Player Name",class:"w-full px-3 py-2 border rounded-md mb-2"},null,512),[[n.Jo,o.newOp.name]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return o.newOp.level=e}),type:"number",min:"1",max:"4",placeholder:"Op Level (1-4)",class:"w-full px-3 py-2 border rounded-md mb-2"},null,512),[[n.Jo,o.newOp.level]])]),(0,a.Lk)("div",ga,[(0,a.Lk)("button",{onClick:t[11]||(t[11]=function(e){return o.showAddOpModal=!1}),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancel "),(0,a.Lk)("button",{onClick:t[12]||(t[12]=function(){return o.addOp&&o.addOp.apply(o,arguments)}),class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"}," Add Operator ")])])])])):(0,a.Q3)("",!0),o.showAddWhitelistModal?((0,a.uX)(),(0,a.CE)("div",ba,[(0,a.Lk)("div",xa,[(0,a.Lk)("div",ka,[t[27]||(t[27]=(0,a.Lk)("h3",{class:"text-lg font-medium leading-6 text-gray-900 mb-4"},"Add Player to Whitelist",-1)),(0,a.Lk)("div",ya,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=function(e){return o.newWhitelistPlayer=e}),type:"text",placeholder:"Player Name",class:"w-full px-3 py-2 border rounded-md mb-2"},null,512),[[n.Jo,o.newWhitelistPlayer]])]),(0,a.Lk)("div",ha,[(0,a.Lk)("button",{onClick:t[14]||(t[14]=function(e){return o.showAddWhitelistModal=!1}),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300"}," Cancel "),(0,a.Lk)("button",{onClick:t[15]||(t[15]=function(){return o.addToWhitelist&&o.addToWhitelist.apply(o,arguments)}),class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"}," Add Player ")])])])])):(0,a.Q3)("",!0)])}const La={name:"ServerConfigFiles",props:{serverId:{type:String,required:!0}},setup:function(e){var t=[{id:"banned-ips",name:"Banned IPs"},{id:"banned-players",name:"Banned Players"},{id:"ops",name:"Operators"},{id:"whitelist",name:"Whitelist"}],r=(0,y.KR)("banned-ips"),n=(0,y.KR)(!1),s=(0,y.KR)(null),o=(0,y.KR)([]),l=(0,y.KR)([]),i=(0,y.KR)([]),u=(0,y.KR)([]),d=(0,y.KR)(!1),c=(0,y.KR)(!1),p=(0,y.KR)(!1),v=(0,y.KR)({target:"",reason:"",expires:""}),m=(0,y.KR)({name:"",level:4}),f=(0,y.KR)(""),g=function(){var t=(0,k.A)((0,b.A)().mark((function t(r){var a,d;return(0,b.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n.value=!0,s.value=null,t.next=5,h.A.get("/api/servers/".concat(e.serverId,"/config/").concat(r));case 5:a=t.sent,t.t0=r,t.next="banned-ips.json"===t.t0?9:"banned-players.json"===t.t0?11:"ops.json"===t.t0?13:"whitelist.json"===t.t0?15:17;break;case 9:return o.value=a.data,t.abrupt("break",17);case 11:return l.value=a.data,t.abrupt("break",17);case 13:return i.value=a.data,t.abrupt("break",17);case 15:return u.value=a.data,t.abrupt("break",17);case 17:t.next=23;break;case 19:t.prev=19,t.t1=t["catch"](0),s.value=(null===(d=t.t1.response)||void 0===d||null===(d=d.data)||void 0===d?void 0:d.error)||"Failed to fetch configuration",console.error("Error fetching ".concat(r,":"),t.t1);case 23:return t.prev=23,n.value=!1,t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[0,19,23,26]])})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=(0,k.A)((0,b.A)().mark((function t(){var n,a,o;return(0,b.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n="banned-ips"===r.value?"banned-ips.json":"banned-players.json",a={target:v.value.target,reason:v.value.reason,expires:v.value.expires?new Date(v.value.expires).getTime():null},t.next=5,h.A.post("/api/servers/".concat(e.serverId,"/config/").concat(n),a);case 5:return t.next=7,g(n);case 7:d.value=!1,v.value={target:"",reason:"",expires:""},t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),s.value=(null===(o=t.t0.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Failed to add ban",console.error("Error adding ban:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=(0,k.A)((0,b.A)().mark((function t(r,n){var a,o;return(0,b.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a="banned-ips"===r?"banned-ips.json":"banned-players.json",t.next=4,h.A["delete"]("/api/servers/".concat(e.serverId,"/config/").concat(a,"/").concat(n));case 4:return t.next=6,g(a);case 6:t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),s.value=(null===(o=t.t0.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Failed to remove ban",console.error("Error removing ban:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}(),L=function(){var t=(0,k.A)((0,b.A)().mark((function t(){var r;return(0,b.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.A.post("/api/servers/".concat(e.serverId,"/config/ops.json"),m.value);case 3:return t.next=5,g("ops.json");case 5:c.value=!1,m.value={name:"",level:4},t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),s.value=(null===(r=t.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.error)||"Failed to add operator",console.error("Error adding operator:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=(0,k.A)((0,b.A)().mark((function t(r){var n;return(0,b.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.A["delete"]("/api/servers/".concat(e.serverId,"/config/ops.json/").concat(r));case 3:return t.next=5,g("ops.json");case 5:t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),s.value=(null===(n=t.t0.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.error)||"Failed to remove operator",console.error("Error removing operator:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=(0,k.A)((0,b.A)().mark((function t(){var r;return(0,b.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.A.post("/api/servers/".concat(e.serverId,"/config/whitelist.json"),{name:f.value});case 3:return t.next=5,g("whitelist.json");case 5:p.value=!1,f.value="",t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),s.value=(null===(r=t.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.error)||"Failed to add player to whitelist",console.error("Error adding player to whitelist:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=(0,k.A)((0,b.A)().mark((function t(r){var n;return(0,b.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.A["delete"]("/api/servers/".concat(e.serverId,"/config/whitelist.json/").concat(r));case 3:return t.next=5,g("whitelist.json");case 5:t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),s.value=(null===(n=t.t0.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.error)||"Failed to remove player from whitelist",console.error("Error removing player from whitelist:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return(0,a.sV)((0,k.A)((0,b.A)().mark((function e(){return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([g("banned-ips.json"),g("banned-players.json"),g("ops.json"),g("whitelist.json")]);case 2:case"end":return e.stop()}}),e)})))),{tabs:t,activeTab:r,loading:n,error:s,bannedIPs:o,bannedPlayers:l,ops:i,whitelist:u,showAddBanModal:d,showAddOpModal:c,showAddWhitelistModal:p,newBan:v,newOp:m,newWhitelistPlayer:f,addBan:x,removeBan:w,addOp:L,removeOp:C,addToWhitelist:A,removeFromWhitelist:S}}},Ca=(0,T.A)(La,[["render",wa]]),Aa=Ca,Sa={name:"ServerDetail",components:{ServerProvisioningStatus:B,ServerJarSwap:en,ServerControlButtons:pn,ServerConfigFiles:Aa},setup:function(){var e=(0,g.lq)(),t=(0,g.rd)(),r=(0,y.KR)(null),n=(0,y.KR)(!0),s=(0,y.KR)(null),o=(0,y.KR)(!1),l=(0,y.KR)(!1),i=(0,y.KR)(!1),u=null,d=function(){var t=(0,k.A)((0,b.A)().mark((function t(){var a,o;return(0,b.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n.value=!0,s.value=null,t.next=5,h.A.get("/api/servers/".concat(e.params.id));case 5:a=t.sent,r.value&&r.value.status===a.data.server.status||console.log("Server status updated:",a.data.server.status),r.value=a.data.server,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error("Error fetching server:",t.t0),s.value=(null===(o=t.t0.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Failed to fetch server details";case 14:return t.prev=14,n.value=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=(0,k.A)((0,b.A)().mark((function t(){var n,a,l,i,c;return(0,b.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,o.value=!0,s.value=null,t.next=5,h.A.post("/api/servers/".concat(e.params.id,"/start"));case 5:u&&clearInterval(u),u=setInterval(d,2e3),r.value=(0,x.A)((0,x.A)({},r.value),{},{status:"starting",statusMessage:"Starting server..."}),n=0,a=30;case 10:if(!(n<a)){t.next=24;break}return t.next=13,new Promise((function(e){return setTimeout(e,2e3)}));case 13:return t.next=15,h.A.get("/api/servers/".concat(e.params.id));case 15:if(l=t.sent,i=l.data.server.status,"running"!==i){t.next=19;break}return t.abrupt("break",24);case 19:if("stopped"!==i&&"failed"!==i){t.next=21;break}throw new Error("Server failed to start");case 21:n++,t.next=10;break;case 24:if(!(n>=a)){t.next=26;break}throw new Error("Server start timed out");case 26:return t.next=28,d();case 28:t.next=35;break;case 30:t.prev=30,t.t0=t["catch"](0),console.error("Error starting server:",t.t0),s.value=(null===(c=t.t0.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.error)||t.t0.message||"Failed to start server",r.value&&(r.value.status="stopped",r.value.statusMessage="Failed to start server");case 35:return t.prev=35,o.value=!1,u&&clearInterval(u),u=setInterval(d,5e3),t.finish(35);case 40:case"end":return t.stop()}}),t,null,[[0,30,35,40]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,k.A)((0,b.A)().mark((function t(){var r;return(0,b.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,l.value=!0,s.value=null,t.next=5,h.A.post("/api/servers/".concat(e.params.id,"/stop"));case 5:return t.next=7,d();case 7:t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),s.value=(null===(r=t.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.error)||"Failed to stop server",console.error("Error stopping server:",t.t0);case 13:return t.prev=13,l.value=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,9,13,16]])})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=(0,k.A)((0,b.A)().mark((function t(){var r;return(0,b.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,i.value=!0,s.value=null,t.next=5,h.A.post("/api/servers/".concat(e.params.id,"/stop"));case 5:return t.next=7,new Promise((function(e){return setTimeout(e,2e3)}));case 7:return t.next=9,h.A.post("/api/servers/".concat(e.params.id,"/start"));case 9:return t.next=11,d();case 11:t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),s.value=(null===(r=t.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.error)||"Failed to restart server",console.error("Error restarting server:",t.t0);case 17:return t.prev=17,i.value=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,13,17,20]])})));return function(){return t.apply(this,arguments)}}(),m=function(){t.push("/servers/".concat(e.params.id,"/config"))},f=function(e){r.value=e},w=function(){var e,t;"running"!==(null===(e=r.value)||void 0===e?void 0:e.status)&&"provisioning"!==(null===(t=r.value)||void 0===t?void 0:t.status)||(u=setInterval(d,5e3))},L=function(){u&&(clearInterval(u),u=null)};return(0,a.sV)((0,k.A)((0,b.A)().mark((function e(){return(0,b.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:w();case 3:case"end":return e.stop()}}),e)})))),(0,a.hi)((function(){L()})),{server:r,loading:n,error:s,isStarting:o,isStopping:l,isRestarting:i,startServer:c,stopServer:p,restartServer:v,navigateToConfig:m,handleJarSwapped:f}}},Ea=(0,T.A)(Sa,[["render",Mr]]),_a=Ea;var Va=[{path:"/",redirect:"/servers"},{path:"/nodes",name:"nodes",component:function(){return r.e(514).then(r.bind(r,1514))}},{path:"/nodes/:id",name:"node-detail",component:function(){return r.e(806).then(r.bind(r,7806))}},{path:"/servers",name:"servers",component:We},{path:"/servers/create",name:"server-create",component:pt},{path:"/servers/:id",name:"server-detail",component:_a},{path:"/servers/:id/config",name:"server-config",component:tr},{path:"/minecraft/cache",name:"minecraft-cache",component:br}],ja=(0,g.aE)({history:(0,g.LA)("/"),routes:Va});const Xa=ja;h.A.defaults.baseURL={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL||"http://localhost:3000",h.A.defaults.headers.common["Content-Type"]="application/json";var Ra=(0,n.Ef)(f);Ra.use(Xa),Ra.mount("#app")}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.m=e,(()=>{var e=[];r.O=(t,n,a,s)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){for(var[n,a,s]=e[d],l=!0,i=0;i<n.length;i++)(!1&s||o>=s)&&Object.keys(r.O).every((e=>r.O[e](n[i])))?n.splice(i--,1):(l=!1,s<o&&(o=s));if(l){e.splice(d--,1);var u=a();void 0!==u&&(t=u)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,a,s]}})(),(()=>{r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[]))})(),(()=>{r.u=e=>"js/"+e+"."+{514:"953d91a6",806:"85af8b9a"}[e]+".js"})(),(()=>{r.miniCssF=e=>{}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="minecraft-server-manager-frontend:";r.l=(n,a,s,o)=>{if(e[n])e[n].push(a);else{var l,i;if(void 0!==s)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+s){l=c;break}}l||(i=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.setAttribute("data-webpack",t+s),l.src=n),e[n]=[a];var p=(t,r)=>{l.onerror=l.onload=null,clearTimeout(v);var a=e[n];if(delete e[n],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(r))),t)return t(r)},v=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),i&&document.head.appendChild(l)}}})(),(()=>{r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{r.p="/"})(),(()=>{var e={524:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var s=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=s);var o=r.p+r.u(t),l=new Error,i=n=>{if(r.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",l.name="ChunkLoadError",l.type=s,l.request=o,a[1](l)}};r.l(o,i,"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,n)=>{var a,s,[o,l,i]=n,u=0;if(o.some((t=>0!==e[t]))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(i)var d=i(r)}for(t&&t(n);u<o.length;u++)s=o[u],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(d)},n=self["webpackChunkminecraft_server_manager_frontend"]=self["webpackChunkminecraft_server_manager_frontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[504],(()=>r(4642)));n=r.O(n)})();
//# sourceMappingURL=app.7741b494.js.map